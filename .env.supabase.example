# ============================================
# LEMAN NEGÓCIOS IMOBILIÁRIOS
# Configuração para PostgreSQL/Supabase
# ============================================

# ============================================
# DATABASE (PostgreSQL/Supabase)
# ============================================
DATABASE_URL="postgresql://postgres:SUA_SENHA@db.xxxxxxxxxxxxx.supabase.co:5432/postgres"
# Ou para PostgreSQL local/VPS:
# DATABASE_URL="postgresql://leman_user:senha_segura@localhost:5432/leman_imoveis"

# ============================================
# SUPABASE (Opcional - para Storage e Auth)
# ============================================
SUPABASE_URL="https://xxxxxxxxxxxxx.supabase.co"
SUPABASE_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
SUPABASE_SERVICE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."

# ============================================
# APPLICATION
# ============================================
NODE_ENV="production"
PORT=5000
HOST="0.0.0.0"

# URL pública do site
PUBLIC_URL="https://lemanimoveis.com.br"

# ============================================
# AUTHENTICATION
# ============================================
JWT_SECRET="gere_uma_chave_secreta_forte_aqui_min_32_caracteres"
SESSION_SECRET="outra_chave_secreta_para_sessoes_min_32_caracteres"
COOKIE_SECRET="chave_para_cookies_min_32_caracteres"

# ============================================
# N8N WEBHOOKS (Agentes de IA)
# ============================================
N8N_BASE_URL="https://seu-n8n.com"
N8N_API_KEY="sua_api_key_n8n"

# Webhooks específicos
N8N_WHATSAPP_INCOMING_WEBHOOK="${N8N_BASE_URL}/webhook/whatsapp-incoming"
N8N_LEAD_QUALIFICATION_WEBHOOK="${N8N_BASE_URL}/webhook/lead-qualification"
N8N_PROPERTY_RECOMMENDATION_WEBHOOK="${N8N_BASE_URL}/webhook/property-recommendation"
N8N_FINANCING_WEBHOOK_URL="${N8N_BASE_URL}/webhook/financing-simulation"
N8N_NEW_LEAD_WEBHOOK="${N8N_BASE_URL}/webhook/new-lead"

# ============================================
# WHATSAPP (Evolution API ou similar)
# ============================================
WHATSAPP_API_URL="https://sua-evolution-api.com"
WHATSAPP_API_KEY="sua_api_key"
WHATSAPP_INSTANCE_NAME="leman"
WHATSAPP_NUMBER="5561998687245"

# ============================================
# OPENAI (para Agentes de IA)
# ============================================
OPENAI_API_KEY="sk-..."
OPENAI_MODEL="gpt-4"
OPENAI_TEMPERATURE="0.7"

# ============================================
# STORAGE (S3, Cloudflare R2, ou Supabase Storage)
# ============================================
STORAGE_TYPE="supabase" # ou "s3", "r2", "local"

# Se usar S3/R2:
S3_ENDPOINT="https://xxxxx.r2.cloudflarestorage.com"
S3_BUCKET="leman-imoveis"
S3_ACCESS_KEY_ID="sua_access_key"
S3_SECRET_ACCESS_KEY="sua_secret_key"
S3_REGION="auto"
S3_PUBLIC_URL="https://cdn.lemanimoveis.com.br"

# Se usar Supabase Storage:
SUPABASE_STORAGE_BUCKET="property-images"

# ============================================
# EMAIL (SMTP)
# ============================================
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER="contato@lemanimoveis.com.br"
SMTP_PASSWORD="sua_senha_app"
SMTP_FROM_NAME="Leman Negócios Imobiliários"
SMTP_FROM_EMAIL="contato@lemanimoveis.com.br"

# ============================================
# REDIS (Cache e Sessões)
# ============================================
REDIS_URL="redis://localhost:6379"
# Ou Redis Cloud:
# REDIS_URL="redis://default:senha@redis-xxxxx.cloud.redislabs.com:12345"

# ============================================
# ANALYTICS
# ============================================
GOOGLE_ANALYTICS_ID="G-XXXXXXXXXX"
FACEBOOK_PIXEL_ID="123456789"

# ============================================
# MAPS
# ============================================
GOOGLE_MAPS_API_KEY="AIzaSy..."

# ============================================
# PAYMENT (Opcional - para pagamentos online)
# ============================================
STRIPE_PUBLIC_KEY="pk_live_..."
STRIPE_SECRET_KEY="sk_live_..."

# ============================================
# MONITORING (Opcional)
# ============================================
SENTRY_DSN="https://xxxxx@sentry.io/xxxxx"
LOG_LEVEL="info" # debug, info, warn, error

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_WINDOW_MS=900000 # 15 minutos
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# CORS
# ============================================
CORS_ORIGIN="https://lemanimoveis.com.br,https://www.lemanimoveis.com.br"

# ============================================
# COMPANY INFO
# ============================================
COMPANY_NAME="Leman Negócios Imobiliários"
COMPANY_PHONE="(61) 99868-7245"
COMPANY_WHATSAPP="5561998687245"
COMPANY_EMAIL="contato@lemanimoveis.com.br"
COMPANY_INSTAGRAM="@leman.negociosimob"
COMPANY_ADDRESS="Brasília - DF"

# ============================================
# COMMISSION RATES
# ============================================
DEFAULT_COMMISSION_RATE="10.00" # Porcentagem
SALE_COMMISSION_RATE="6.00"
RENTAL_COMMISSION_RATE="10.00"

# ============================================
# BACKUP
# ============================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *" # Todo dia às 2h
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET="leman-backups"
